{{ '//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js' | script_tag }}
{{ 'jquery.products.min.js' | asset_url | script_tag }}
<div id="product-slider" class="px-3">
    <div class="container-lg ">
        <div class="search-main">
            <div class="swiper-head">
                <p>Recently Viewed</p>
            </div>
            <div class="swiper mySwiper recentview">
                <div class="swiper-wrapper py-4" id="recently-viewed-products">
                    <script id="recently-viewed-product-template" type="text/x-jquery-tmpl">
                    <div class="swiper-slide wishlistProduct">
                        <div class="card w-100">
                            <a href="/products/${handle}">
                                <img src="${Shopify.Products.resizeImage(featured_image)}" class="card-img-top w-100"
                                    alt="${title}" />
                            </a>
                            <div class="card-body">
                                <h5 class="card-title">
                                    <a href="/products/${handle}">${title}</a>
                                </h5>
                                <p>${vendor}</p>
                                <div class="product-colors d-flex justify-content-between">
                                    <p class="card-text">${Shopify.formatMoney(price)}</p>
                                </div>
                            </div>
                        </div>
                    </div>    
                </script>

                    <script>
                        Shopify.Products.showRecentlyViewed({ howManyToShow: 8 });
                    </script>
                </div>
            </div>
            <div class=" swiper-pagination"></div>
        </div>
    </div>
</div>
<script>
    var swiper = new Swiper(".recentview", {
        slidesPerView: 5,
        breakpoints: {
            200: {
                slidesPerView: 1,
                spaceBetween: 20,
            },
            320: {
                slidesPerView: 2,
                spaceBetween: 20,
            },
            480: {
                slidesPerView: 2,
                spaceBetween: 30,
            },
            768: {
                slidesPerView: 4,
                spaceBetween: 40,
            },
            992: {
                slidesPerView: 4,
                spaceBetween: 40,
            },
        },
        pagination: {
            el: ".swiper-pagination",
            type: "progressbar",
        },
    });
</script>